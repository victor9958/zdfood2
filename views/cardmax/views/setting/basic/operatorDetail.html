<title>运营商管理</title>
<div class="layui-fluid full-height role">
    <div class="layui-row full-height">
        <div class="layui-card full-height flex flex-v">
            <div class="layui-card-body flex flex-v flex-1">
                <div class="layui-tab flex-1 flex flex-v over-auto" lay-filter="tabDetail">
                    <ul class="layui-tab-title">
                        <li class="layui-this" lay-id="user">基础配置</li>
                        <li lay-id="module">管理员设置</li>
                    </ul>
                    <div class="layui-tab-content layui-border-box flex-1 over-auto">
                        <div class="layui-tab-item full-height layui-show">
                            <div class="layui-form full-height flex flex-v layui-form-pane">
                                <div class="flex-1">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">运营商名称</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" placeholder="请输入运营商名称" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-form-item" pane>
                                    <label class="layui-form-label">备注</label>
                                    <div class="layui-input-block layui-form-text">
                                        <textarea name="" lay-verify="required" placeholder="请输入运营商名称" autocomplete="off" class="layui-textarea"></textarea>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">运营商编号</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" value="1002" autocomplete="off" class="layui-input" readonly>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">设备号段</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" value="1002" autocomplete="off" class="layui-input" readonly>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">appID</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" value="1002" autocomplete="off" class="layui-input" readonly>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">app_secret</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" value="1002" autocomplete="off" class="layui-input" readonly>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <label class="layui-form-label">商户ID</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="" lay-verify="required" value="1002" autocomplete="off" class="layui-input" readonly>
                                    </div>
                                </div>
                                </div>
                                <div class="btn-box">
                                    <button class="layui-btn">保存修改</button>
                                </div>
                            </div>
                        </div>
                        <div class="layui-tab-item full-height over-auto">
                            <div class="m-b-10">
                                <button class="layui-btn" id="addOperator">添加管理员</button>
                                <button class="layui-btn layui-btn-primary" id="deleteOperator">删除</button>
                            </div>

                            <div class="flex-1 over-auto">
                                <div class="layui-table" id="users" lay-filter="usersTable"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<script type="text/html" id="userOption">
    <a class="layui-btn layui-btn-xs" lay-event="detail">修改备注</a>
</script>
<script type="text/html" id="is_admin">
    {{ d.name }}
    {{#  if(d.is_admin == 1){ }}
    <span class="layui-badge">主管理员</span>
    {{#  } }}
</script>

<script>
    layui.use(['table', 'form'], function () {
        var $ = layui.$,
            view = layui.view,
            table = layui.table,
            setter = layui.setter,
            form = layui.form,
            admin = layui.admin;

        $(function () {
            form.render();
            table.render({
                id: 'bathList'
                , elem: '#bathList'
                , url: setter.baseUrl + '/news-center/notice' //模拟接口
                , page: setter.pageTable
                , cellMinWidth: 100
                , loading: false
                , limit: setter.limit
                , response: setter.responseTable
                , cols: [[
                    {type: 'numbers', title: '序号', width: 60}
                    , {width: 16, templet: '#isVisit'}
                    , {field: 'title', title: '公告标题'}
                    , {field: 'created_at', title: '时间', width: 240}
                    , {title: '操作', width: 180, toolbar: '#notice_option'}
                ]]
                , skin: 'line'
            });

            table.on('tool(notice_)', function (obj) {
                var data = obj.data;
                layui.data('temporary', {
                    key: 'temporary'
                    , value: {'news_id': data.id, type: 'notice'}
                });
                admin.popupCenter({
                    id: 'LAY_adminPopupNewsDetail'
                    , title: '详情'
                    , area: ['430px', '520px']
                    , success: function () {
                        view(this.id).render('setting/message/news/detail');
                    }
                });
            });
        })
    });
</script>
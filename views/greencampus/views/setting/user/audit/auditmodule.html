<script type="text/html" template>
    <link rel="stylesheet" href="{{ layui.setter.base }}style/setting/audit.css?v={{ layui.admin.v }}-1" media="all">
</script>
<title>审核模板</title>
<div class="layui-fluid full-height audit" id="LAY-register">
    <div class="layui-row full-height">
        <div class="layui-card full-height flex flex-v">
            <div class="layui-card-header">审核模板</div>
            <div class="layui-card-body layui-form flex-1 over-auto">
                <div class="full-height flex flex-v over-auto">
                    <div class="layui-form-item flex flex-align-center">
                        <b>是否开启审核</b>
                        <div class="layui-input-inline">
                            <input type="checkbox" class="switchStatus" lay-skin="switch" lay-filter="switchStatus"
                                   lay-text="ON|OFF">
                        </div>
                    </div>
                    <p class="ft-green">注：开启审核后，新用户注册后需要管理员通过才能进入系统</p>
                    <hr>
                    <b class="m-b-10">审核模板编辑</b>
                    <div class="content flex-1 flex">
                        <div class="layui-card role flex flex-v">
                            <div class="layui-card-header">角色选择</div>
                            <div class="layui-card-body flex-1 over-auto">
                                <ul class="lists" id="roleList"></ul>
                            </div>
                        </div>
                        <div class="over-auto layui-form flex-1">
                            <script type="text/html" template id="approve-tpl"
                                    lay-url="{{layui.setter.baseUrl + '/user-manage/audit/role/'+ layui.data('roleParam').id +'/approve-tpl'}}"
                                    lay-done="{{layui.form.render();}}">
                                <div class="layui-card" lay-templateid="approve-tpl">
                                    <div class="layui-card-header">基本信息（必填）</div>
                                    <div class="layui-card-body">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">手机号</label>
                                            <div class="layui-input-block">
                                                <input type="text" name="" lay-verify="title" autocomplete="off"
                                                       placeholder="请输入手机号" class="layui-input" readonly>
                                            </div>
                                        </div>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">姓名</label>
                                            <div class="layui-input-block">
                                                <input type="password" name="" placeholder="请输入姓名"
                                                       autocomplete="off" class="layui-input" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-card module-card">
                                    <div class="layui-card-header flex">
                                        <span>学号</span>
                                        <div class="layui-form-item flex flex-align-center">
                                            <div class="layui-input-inline">
                                                <input type="checkbox" {{!d.data.jobNumberInfo.status?'':'checked='}}
                                                name="jobNumberInfo" lay-skin="switch"
                                                lay-filter="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-card-body">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">学号</label>
                                            <div class="layui-input-block">
                                                <input type="text" name="" lay-verify="title" autocomplete="off"
                                                       placeholder="请输入学号" class="layui-input" readonly>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">是否必填</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="jobNumberInfo_radio" value="是" title="是" {{ d.data.jobNumberInfo.require?'checked':'' }}>
                                                <input type="radio" name="jobNumberInfo_radio" value="否" title="否" {{ !d.data.jobNumberInfo.require?'checked':'' }}>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="layui-card module-card">
                                    <div class="layui-card-header flex">
                                        <span>组织架构</span>
                                        <div class="layui-form-item flex flex-align-center">
                                            <div class="layui-input-inline">
                                                <input type="checkbox" {{!d.data.structureInfo.status?'':'checked'}} name="structureInfo" lay-skin="switch"
                                                       lay-filter="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-card-body">
                                        {{# layui.each(d.data.structureInfo.level,function(index,item){ }}
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">{{ item }}</label>
                                            <div class="layui-input-block">
                                                <select name="" readonly>
                                                    <option value="">请选择{{ item }}</option>
                                                </select>
                                            </div>
                                        </div>
                                        {{# }) }}
                                        <hr>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">是否必填</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="structureInfo_radio" value="" title="是" {{ d.data.structureInfo.require?'checked':'' }}>
                                                <input type="radio" name="structureInfo_radio" value="" title="否" {{ !d.data.structureInfo.require?'checked':'' }}>
                                            </div>
                                        </div>

                                    </div>

                                </div>


                                {{# layui.each(d.data.options,function(index,item){
                                if(item.option_type === 1){
                                }}
                                <div class="layui-card module-card">
                                    <div class="layui-card-header flex">
                                        <span>{{ item.title }}</span>
                                        <div class="layui-form-item flex flex-align-center">
                                            <div class="layui-input-inline">
                                                <input type="checkbox" {{!item.status?'':'checked'}} name="options_status[{{ item.id }}]" data-id="{{ item.id }}" lay-skin="switch"
                                                       lay-filter="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-card-body">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label left">{{ item.title }}</label>
                                            <div class="layui-input-block">
                                                <input type="text" name="" id="{{ item.id }}" autocomplete="off"
                                                       value=""
                                                       placeholder="请输入{{ item.title }}" class="layui-input" readonly>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">是否必填</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="是" title="是" {{ item.require?'checked':'' }}>
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="否" title="否" {{ !item.require?'checked':'' }}>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                {{# }else if(item.option_type === 3){ }}
                                <div class="layui-card module-card">
                                    <div class="layui-card-header flex">
                                        <span>{{ item.title }}</span>
                                        <div class="layui-form-item flex flex-align-center">
                                            <div class="layui-input-inline">
                                                <input type="checkbox" {{!item.status?'':'checked'}} name="options_status[{{ item.id }}]" data-id="{{ item.id }}" lay-skin="switch"
                                                       lay-filter="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-card-body">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label left">{{ item.title }}</label>
                                            <div class="layui-input-block">
                                                <select name="extends" id="{{ item.id }}" readonly>
                                                    <option value="">请选择{{ item.title }}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">是否必填</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="是" title="是" {{ item.require?'checked':'' }}>
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="否" title="否" {{ !item.require?'checked':'' }}>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                {{# }else if(item.option_type === 2){ }}
                                <div class="layui-card module-card">
                                    <div class="layui-card-header flex">
                                        <span>{{ item.title }}</span>
                                        <div class="layui-form-item flex flex-align-center">
                                            <div class="layui-input-inline">
                                                <input type="checkbox" {{!item.status?'':'checked'}} name="options_status[{{ item.id }}]" data-id="{{ item.id }}" lay-skin="switch"
                                                       lay-filter="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-card-body">
                                        <div class="layui-form-item">
                                            <label class="layui-form-label left">{{ item.title }}</label>
                                            <div class="layui-input-block">
                                                <textarea type="text" name="extends" id="{{ item.id }}"
                                                          autocomplete="off"
                                                          placeholder="请输入{{ item.title }}"
                                                          class="layui-textarea" readonly></textarea>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="layui-form-item">
                                            <label class="layui-form-label">是否必填</label>
                                            <div class="layui-input-block">
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="是" title="是" {{ item.require?'checked':'' }}>
                                                <input type="radio" name="options_require[{{ item.id }}]" data-id="{{ item.id }}" value="否" title="否" {{ !item.require?'checked':'' }}>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                {{#
                                }
                                })
                                }}

                            </script>

                            <div class="layui-form-item p-t-10 ft-center">
                                <button class="layui-btn" lay-submit lay-filter="LAY-module-submit">确定</button>
                                <button class="layui-btn layui-btn-primary" id="module_cancel">取消</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
    layui.use('setting/auditmodule', layui.factory('setting/auditmodule'));
</script>